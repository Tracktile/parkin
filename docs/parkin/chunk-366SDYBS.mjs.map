{"version":3,"sources":["../src/utils/globalScope.ts"],"sourcesContent":["import type { TRequire, TModule, TJasmine } from '../types'\n\nimport { checkCall, noOpObj, noOp } from '@keg-hub/jsutils'\n\n/**\n * Helpers to ensure the right code is run in the right environments\n * @function\n * @export\n * @public\n *\n * @returns {Boolean} True if a global object exists\n */\nexport const hasWindow = Boolean(typeof window !== 'undefined')\nexport const hasGlobal = Boolean(typeof global !== 'undefined')\nexport const hasModule = Boolean(typeof module === 'object')\nexport const hasRequire = Boolean(typeof require === 'function')\nexport const hasJasmine = Boolean(\n  hasGlobal && typeof global.jasmine !== 'undefined'\n)\n\n/**\n * Resolve the jasmine object if it exists\n * @function\n * @export\n * @public\n *\n */\nexport const resolveJasmine = ():TJasmine =>\n  hasJasmine ? checkCall(() => global.jasmine as unknown as TJasmine) : { getEnv: () => noOpObj, testPath: `` }\n\n/**\n * Resolve the module object if it exists\n * @function\n * @export\n * @public\n *\n */\nexport const resolveModule = ():TModule =>\n  hasModule ? checkCall(() => module) : { exports: {} }\n\n/**\n * Resolve the require function if it exists\n * @function\n * @export\n * @public\n *\n */\nexport const resolveRequire = ():TRequire =>\n  hasRequire ? checkCall(() => require) : noOp\n\n/**\n * Resolve the global object based on if the window or global objects exit\n * @function\n * @export\n * @public\n *\n */\nexport const resolveGlobalObj = ():Record<any, any> => {\n  try {\n    return hasWindow\n      ? checkCall(() => window)\n      : hasGlobal\n        ? checkCall(() => global)\n        : noOpObj\n  }\n  catch (err) {\n    return noOpObj\n  }\n}\n"],"mappings":";;;;;;;;AAYO,IAAM,YAAY,QAAQ,OAAO,WAAW,WAAW;AACvD,IAAM,YAAY,QAAQ,OAAO,WAAW,WAAW;AACvD,IAAM,YAAY,QAAQ,OAAO,WAAW,QAAQ;AACpD,IAAM,aAAa,QAAQ,OAAO,cAAY,UAAU;AACxD,IAAM,aAAa;AAAA,EACxB,aAAa,OAAO,OAAO,YAAY;AACzC;AASO,IAAM,iBAAiB,MAC5B,aAAa,UAAU,MAAM,OAAO,OAA8B,IAAI,EAAE,QAAQ,MAAM,SAAS,UAAU,GAAG;AASvG,IAAM,gBAAgB,MAC3B,YAAY,UAAU,MAAM,MAAM,IAAI,EAAE,SAAS,CAAC,EAAE;AAS/C,IAAM,iBAAiB,MAC5B,aAAa,UAAU,MAAM,SAAO,IAAI;AASnC,IAAM,mBAAmB,MAAuB;AACrD,MAAI;AACF,WAAO,YACH,UAAU,MAAM,MAAM,IACtB,YACE,UAAU,MAAM,MAAM,IACtB;AAAA,EACR,SACO,KAAK;AACV,WAAO;AAAA,EACT;AACF;","names":[]}